<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>港式台牌計分牌</title>
    <!-- Google fonts for Noto Serif and Sans-->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400&display=swap" rel="stylesheet">
    <!-- Bootstrap, jQuery and JS bundle w/ Popper.js -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>

    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- Main javascript -->
    <script src="main.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <!-- Icon -->
    <link rel="icon" href="icon.ico" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
</head>
<body>

    <!-- Initial settings -->
<div id="global">
    <div class="container-fluid" id="initial">
        <div id="setting-diag">
            <div class="title">請輸入玩家名稱</div>
            <div>
                <label for="name_east">東位：</label>
                <input type="text" name="name_east" id="name_east"></input>
            </div>
            <div>
                <label for="name_south">南位：</label>
                <input type="text" name="name_south" id="name_south"></input>
            </div>
            <div>
                <label for="name_west">西位：</label>
                <input type="text" name="name_west" id="name_west"></input>
            </div>
            <div>
                <label for="name_north">北位：</label>
                <input type="text" name="name_north" id="name_north"></input>
            </div>
            <div class="mt-1 select_pan" id="font-select">字體：
                <a class="button select active" href="javascript:setfont('');">預設</a>
                <a class="button select" href="javascript:setfont('Noto Serif TC, serif');" style="font-family: Noto Serif TC, serif">思源宋體</a>
                <a class="button select" href="javascript:setfont('Noto Sans TC, sans-serif');" style="font-family: Noto Sans TC, sans-serif">思源黑體</a>
            </div>
            <a class="button mt-1" href="javascript:void(0);" style="width: 100%" data-toggle="modal" data-target="#initial_option"><i class="fas fa-cogs mr-2"></i>選項</a>
            <a class="button mt-1" href="javascript:void(0);" style="width: 100%" data-toggle="modal" data-target="#about"><i class="fas fa-heart mr-2"></i></i>關於</a>
            <a class="button button-big mt-1" href="javascript:initiate();"><i class="fas fa-gamepad mr-2"></i>開始</a>
        </div>
        <div style="position: absolute; bottom: 0px; right: 0px;">v1.06 alpha</div>
    </div>
    <!-- Main screen -->
    <div class="container-fluid" id="main">
        <div class="row">
            <div class="col-6">
                <div class="row">
                    <div class="title col-4" id="time"></div>
                    <div class="title col-8" id="turn"></div>
                </div>
                <div id="table_wrap">
                    <div id="table">
                        <div class="corner" id="left-upper_corner"></div>
                        <div class="hori-block text-block" id="N-text"></div>
                        <div class="corner" id="right-upper_corner"></div>
                        <div class="corner" id="left-upper_div"></div>
                        <div class="hori-block" id="north"><div class="streak"></div><i class="fas fa-exclamation-circle none" data-toggle="modal" data-target="#break"></i></div>
                        <div class="corner" id="right-upper_div"></div>
                        <div class="vert-block text-block" id="E-text"></div>
                        <div class="vert-block" id="east"><div class="streak"></div><i class="fas fa-exclamation-circle none" data-toggle="modal" data-target="#break"></i></div>
                        <div id="center"><i class="fas fa-balance-scale-left none" data-toggle="tooltip" data-placement="top" title="番數曾經被手動調整；請參考記錄" style="font-size: 5vh; align-self: center"></i></div>
                        <div class="vert-block" id="west"><div class="streak"></div><i class="fas fa-exclamation-circle none" data-toggle="modal" data-target="#break"></i></div>
                        <div class="vert-block text-block" id="W-text"></div>
                        <div class="corner" id="left-lower_div"></div>
                        <div class="hori-block" id="south"><div class="streak"></div><i class="fas fa-exclamation-circle none" data-toggle="modal" data-target="#break"></i></div>
                        <div class="corner" id="right-lower_div"></div>
                        <div class="corner" id="left-lower_corner"></div>
                        <div class="hori-block text-block" id="S-text"></div>
                        <div class="corner" id="right-lower_corner"></div>
                    </div>
                </div>
                <div>
                    <a class="button button-medium mt-1" href="javascript:void(0);" data-toggle="modal" data-target="#instant"><i class="fas fa-bolt mr-2"></i>即收・即付</a>
                    <a class="button button-medium right mt-1" href="javascript:void(0);" data-toggle="modal" data-target="#ron"><i class="fas fa-crown mr-2"></i>食糊・流局</a>
                    <a class="button button-medium mt-2" data-toggle="modal" data-target="#settle" href="javascript:void(0);"><i class="fas fa-calculator mr-2"></i>結算・調整</a>
                    <a class="button button-medium right mt-2" href="javascript:void(0);" data-toggle="modal" data-target="#end"><i class="far fa-check-circle mr-2"></i>結束</a>
                </div>
            </div>
            <div class="col-6">
                <div id="rightbuttongroup">
                    <span class="mt-1 mr-2">
                    <a href="javascript:void(0);" class="inactive" data-toggle="tooltip" data-placement="bottom" title="按一下切換數值顯示為番或錢"><i class="fas fa-list-ul mr-1"></i>番</a>
                    </span>
                    <span class="mt-1 mr-2">
                    <a id="undo" href="javascript:undo();" data-toggle="tooltip" data-placement="bottom" title="按一下取消上一次數值更變"><i class="fas fa-undo mr-1"></i>還原</a>
                    </span>
                    <span class="mt-1 mr-2">
                    <a id="redo" href="javascript:redo();" data-toggle="tooltip" data-placement="bottom" title="按一下重做上一次數值更變"><i class="fas fa-redo mr-1"></i>重做</a>
                    </span>
                    <span class="mt-1 mr-2" data-toggle="modal" data-target="#history">
                    <a href="javascript:void(0);" data-toggle="tooltip" data-placement="bottom" title="顯示游戲的記錄"><i class="far fa-clipboard mr-1"></i>記錄</a>
                    </span>
                    <span class="mt-1 mr-2">
                    <a href="javascript:void(0);" class="inactive" data-toggle="tooltip" data-placement="bottom" title="游戲設置包括換位、改名、調整游戲相關數值"><i class="fas fa-dice mr-2"></i>游戲設置</a>
                    </span>
                    <span class="mt-1 mr-2">
                    <a href="javascript:void(0);" class="inactive" data-toggle="tooltip" data-placement="bottom" title="選項包括更變主題、儲存及載入進度"><i class="fas fa-cogs mr-1"></i>選項</a>
                    </span>
                    <span class="mt-1">
                    <a href="javascript:void(0);" class="inactive" data-toggle="tooltip" data-placement="bottom" title="有關本網頁及助養作者"><i class="fas fa-heart mr-1"></i>喜歡</a>
                    </span>
                </div>
                <div id="record" class="mt-2">
                    <table>
                        <tr id="record_add">
                            <th class="first_row">#</th>
                            <th class="other_row p1name"></th>
                            <th class="other_row p2name"></th>
                            <th class="other_row p3name"></th>
                            <th class="other_row p4name"></th>
                        </tr>
                    </table>
                </div>
                <div id="stat_view" class="mt-3">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="game_stat_view">
                            <div class="row" style="width: 95%">
                                <div class="col">
                                    <table style="width: 100%">
                                        <tr>
                                            <th style="width: 50%; border-bottom: 0.5vh solid var(--highlight);">項目</th>
                                            <th style="width: 50%; border-bottom: 0.5vh solid var(--highlight);">數值</th>
                                        </tr>
                                        <tr id="stat_get">
                                            <td>即收總和</td>
                                            <td></td>
                                        </tr>
                                        <tr id="stat_pay">
                                            <td>即付總和</td>
                                            <td></td>
                                        </tr>
                                        <tr id="stat_avg_yaku">
                                            <td>平均食糊番數</td>
                                            <td></td>
                                        </tr>
                                        <tr id="stat_total_change">
                                            <td>總番數流動</td>
                                            <td></td>
                                        </tr>
                                        <tr id="game_max_yaku">
                                            <td>最大食糊番數</td>
                                            <td></td>
                                        </tr>
                                        <tr id="game_max_streak">
                                            <td>最大連莊</td>
                                            <td></td>
                                        <tr>
                                    </table>
                                </div>
                                <div class="col">
                                    <table style="width: 100%">
                                        <tr>
                                            <th style="width: 33%; border-bottom: 0.5vh solid var(--highlight);">統計</th>
                                            <th style="width: 33%; border-bottom: 0.5vh solid var(--highlight);">總數</th>
                                            <th style="width: 33%; border-bottom: 0.5vh solid var(--highlight);">比例</th>
                                        </tr>
                                        <tr id="stat_draw">
                                            <td>流局</td>
                                            <td>0</td>
                                            <td>0%</td>
                                        </tr>
                                        <tr id="stat_deal">
                                            <td>出銃</td>
                                            <td>0</td>
                                            <td>0%</td>
                                        </tr>
                                        <tr id="stat_tsumo">
                                            <td>自摸</td>
                                            <td>0</td>
                                            <td>0%</td>
                                        </tr>
                                        <tr id="stat_round">
                                            <td>總局數</td>
                                            <td>0</td>
                                            <td>100%</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="player_stat_view">
                            <table style="width: 95%">
                                <tr>
                                    <th style="width: 20%; border-bottom: 0.5vh solid var(--highlight);">項目</th>
                                    <th style="width: 20%" colspan="2" class="p1name"></th>
                                    <th style="width: 20%" colspan="2" class="p2name"></th>
                                    <th style="width: 20%" colspan="2" class="p3name"></th>
                                    <th style="width: 20%" colspan="2" class="p4name"></th>
                                </tr>
                                <tr id="player_win">
                                    <td>勝<td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                </tr>
                                <tr id="player_lose">
                                    <td>負<td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                </tr>
                                <tr id="player_tsumo">
                                    <td>自摸</td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                </tr>
                                <tr id="player_deal">
                                    <td>出銃<td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                </tr>
                                <tr id="player_instantget">
                                    <td>即收</td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                </tr>
                                <tr id="player_instantpay">
                                    <td>即付</td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                </tr>
                                <tr id="player_max_yaku">
                                    <td>最大番數</td>
                                    <td colspan="2"></td>
                                    <td colspan="2"></td>
                                    <td colspan="2"></td>
                                    <td colspan="2"></td>
                                </tr>
                                <tr id="player_max_streak">
                                    <td>最大連莊</td>
                                    <td colspan="2"></td>
                                    <td colspan="2"></td>
                                    <td colspan="2"></td>
                                    <td colspan="2"></td>
                                </tr>
                            </table>
                        </div>
                        <div class="tab-pane fade" id="graph_view">
                        </div>
                    </div>
                </div>
                <div id="stat_nav">
                    <ul class="nav nav-pills" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link nav-stat active" data-toggle="pill" href="#game_stat_view">游戲數據</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-stat" data-toggle="pill" href="#player_stat_view">玩家數據</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-stat" data-toggle="pill" href="#graph_view">趨勢(已結算)</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!--Context Menu-->
    <div class="list-group none" id="context">
        <li class="list-group-item list-group-item-action" id="context_name" style="font-weight: bold"><div class="context_wrap"></div></li>
        <a class="list-group-item list-group-item-action" id="context_instantget"><div class="context_wrap">即收</div></a>
        <a class="list-group-item list-group-item-action" id="context_instantpay"><div class="context_wrap">即付</div></a>
        <a class="list-group-item list-group-item-action" id="context_deal"><div class="context_wrap">出統</div></a>
        <a class="list-group-item list-group-item-action" id="context_tsumo"><div class="context_wrap">自摸</div></a>
    </div>
    <!-- Modals -->
    <!-- Initial option modal -->
    <div class="modal" id="initial_option">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header title">
                    <ul class="nav nav-pills" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link nav-custom active" data-toggle="pill" href="#game_setting">游戲設置</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#theme_setting">外觀設置</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#io">匯入/匯出</a>
                        </li>
                    </ul>
                </div>
                <div class="modal-body">
                    <div class="tab-content">
                        <div class="tab-pane show active" id="game_setting">
                            <div class="row">
                                <div class="col-6 gs_left"><i class="fas fa-info-circle" title="所有玩家的初始番數&#13;&#10;預設為 0"></i> 底：</div>
                                <div class="col-6 gs_right"><input class="numonly" type="number"></input></div>
                                <div class="col-6 gs_left"><i class="fas fa-info-circle" title="每一番代表多少錢&#13;&#10;預設為 1"></i> x元一番：</div>
                                <div class="col-6 gs_right"><input class="numonly" type="number"></input></div>
                                <div class="col-6 gs_left"><i class="fas fa-info-circle" title="拉的時侯番數的倍數&#13;&#10;例：設倍數為1.5。第一局，甲勝乙100番。如甲於第二局再勝乙時，甲於第一局所贏的番數會變成150番。&#13;&#10;預設為 1.5，必須大於 1"></i> 拉倍數：</div>
                                <div class="col-6 gs_right"><input class="numonly" type="number"></input></div>
                                <div class="col-6 gs_left"><i class="fas fa-info-circle" title="當連續輸給某一玩家x局，輸的玩家可選擇中止拉踢&#13;&#10;預設為 3&#13;&#10;0 代表無限拉"></i> 每x局數可中止拉踢：</div>
                                <div class="col-6 gs_right"><input class="numonly" type="number"></input></div>
                                <div class="center_button_container col mt-2">
                                    <a class="button" href="javascript:get_game_setting()">保存</a>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="theme_setting">
                            <div class="row">
                                <div class="col-6 gs_left">主題</div>
                                <div class="col-6 gs_right"><select>
                                    <option value="Nord">北歐</option>
                                    <option value="Nord_alt">冷色系北歐</option>
                                    <option value="Dracula">德古拉</option>
                                    <option value="Gruvbox_light">亮色航空</option>
                                    <option value="Gruvbox_dark">暗色航空</option>
                                    <option value="High_contrast">高對比</option>
                                </select></div>
                                <div class="col mt-2" style="text-align:center;"><input type="checkbox" id="fullscreen"></input><label for="fullscreen" class="ml-1">開始時自動進入全屏幕</label></div>
                            </div>
                            <div class="center_button_container mt-2"><a class="button" href="javascript:get_game_setting()">保存</a></div>
                        </div>
                        <div class="tab-pane" id="io">
                            <div class="row">
                                <div class="col-6">匯出：</div>
                                <div class="col-3"><a class="button" href="javascript:void(0);">複制到剪貼簿</a></div>
                                <div class="col-3"><a class="button" href="javascript:void(0);">另儲為JSON檔</a></div>
                                <div class="col-12 mt-2"><textarea id="export" readonly></textarea></div>
                                <div class="col-12 mt-3">匯入：</div>
                                <div class="col-12 mt-2"><textarea id="import"></textarea></div>
                                <div class="center_button_container col mt-2">
                                    <a class="button" href="javascript:void(0);">匯入並開始</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Instant pay or get modal -->
    <div class="modal" id="instant">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <ul class="nav nav-pills" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link nav-custom active" data-toggle="pill" href="#instantget">即收</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#instantpay">即付</a>
                        </li>
                    </ul>
                </div>
                <div class="modal-body">
                    <div class="tab-content">
                        <div class="tab-pane show active" id="instantget">
                            <div class="mt-2">請選擇即收者：
                                <div class="player_select row select_pan">
                                    <a class="p1box col" href="javascript:void(0);"></a>
                                    <a class="p2box col" href="javascript:void(0);"></a>
                                    <a class="p3box col" href="javascript:void(0);"></a>
                                    <a class="p4box col" href="javascript:void(0);"></a>
                                </div>
                            </div>
                            <div class="mt-2">
                                <label>即收數目：</label>
                                <div class="select_pan row">
                                    <a class="button select col-4" href="javascript:void(0);">3</a>
                                    <a class="button select col-4" href="javascript:void(0);">5</a>
                                    <a class="button select col-4" href="javascript:void(0);">8</a>
                                    <a class="button select col" href="javascript:void(0);">其他：<input type="number" class="others ml-2 numonly" id="instantget_others"></input></a>
                                </div>
                            </div>
                            <div class="mt-2 center_button_container none">
                                <a class="button" href="javascript:instant('get');">確定</a>
                            </div>
                        </div>
                        <div class="tab-pane" id="instantpay">
                            <div class="mt-2">請選擇即付者：
                                <div class="player_select row select_pan">
                                    <a class="p1box col" href="javascript:void(0);"></a>
                                    <a class="p2box col" href="javascript:void(0);"></a>
                                    <a class="p3box col" href="javascript:void(0);"></a>
                                    <a class="p4box col" href="javascript:void(0);"></a>
                                </div>
                            </div>
                            <div class="mt-2">
                                <label>即付數目：</label>
                                <div class="select_pan row">
                                    <a class="button select col-6" href="javascript:void(0);">5</a>
                                    <a class="button select col-6" href="javascript:void(0);">10</a>
                                    <a class="button select col" href="javascript:void(0);">其他：<input type="number" class="others ml-2 numonly" id="instantpay_others"></input></a>
                                </div>
                                </select>
                            </div>
                            <div class="mt-2 center_button_container none">
                                <a class="button" href="javascript:instant('pay');">確定</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Ron modal -->
    <div class="modal" id="ron">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <ul class="nav nav-pills" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link nav-custom active" data-toggle="pill" href="#deal">出銃</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#tsumo">自摸</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#draw">流局</a>
                        </li>
                    </ul>
                    </div>
                    <div class="modal-body">
                    <div class="tab-content">
                        <div class="tab-pane show active" id="deal">
                            <div class="mt-2">請先選擇出銃玩家，並輸入勝利玩家的番數：</div>
                            <div class="mt-1 row player_select select_pan">
                                    <div class="col">
                                        <a class="p1box" href="javascript:void(0);"></a>
                                        <input type="number" class="numonly p1form none"></input>
                                    </div>
                                    <div class="col">
                                        <a class="p2box" href="javascript:void(0);"></a>
                                        <input type="number" class="numonly p2form none"></input>
                                    </div>
                                    <div class="col">
                                        <a class="p3box" href="javascript:void(0);"></a>
                                        <input type="number" class="numonly p3form none"></input>
                                    </div>
                                    <div class="col">
                                        <a class="p4box" href="javascript:void(0);"></a>
                                        <input type="number" class="numonly p4form none"></input>
                                    </div>
                            </div>
                            <div class="center_button_container none" style="margin-top: 2vh;">
                                <a class="button" href="javascript:deal();">確定</a>
                            </div>
                        </div>
                        <div class="tab-pane" id="tsumo">
                            <div class="mt-2">請先選擇自摸玩家，並輸入其他玩家的番數：</div>
                            <div class="mt-1 row player_select select_pan">
                                <div class="col">
                                    <a class="p1box" href="javascript:void(0);"></a>
                                    <input type="number" class="numonly p1form none"></input>
                                </div>
                                <div class="col">
                                    <a class="p2box" href="javascript:void(0);"></a>
                                    <input type="number" class="numonly p2form none"></input>
                                </div>
                                <div class="col">
                                    <a class="p3box" href="javascript:void(0);"></a>
                                    <input type="number" class="numonly p3form none"></input>
                                </div>
                                <div class="col">
                                    <a class="p4box" href="javascript:void(0);"></a>
                                    <input type="number" class="numonly p4form none"></input>
                                </div>
                            </div>
                            <div class="center_button_container none" style="margin-top: 2vh;">
                                <a class="button" href="javascript:tsumo();">確定</a>
                            </div>
                        </div>
                        <div class="tab-pane" id="draw">
                            <div class="mt-2">請選擇流局方式：</div>
                            <div class="row draw_select mt-2 select_pan" id="draw_select" style="font-size: 3vh">
                                <div class="col">
                                    <a class="select" id="holdplus" href="javascript:void(0);">連莊並莊加一</a>
                                </div>
                                <div class="col">
                                    <a class="select" id="hold" href="javascript:void(0);">只留莊</a>
                                </div>
                                <div class="col">
                                    <a class="select" id="pass" href="javascript:void(0);">過莊</a>
                                </div>
                            </div>
                            <div class="center_button_container" style="margin-top: 2vh;">
                                <a class="button" href="javascript:draw();">確定</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- History Modal -->
    <div class="modal" id="history">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="title">記錄</div>
                        <table id="history_table">
                            <tr style="font-size: 2.5vh">
                                <th style="width: 25%; border-bottom: solid 0.5vh var(--highlight)">時間</th>
                                <th style="width: 75%; border-bottom: solid 0.5vh var(--highlight)">事件</th>
                            </tr>
                            <tr id="history_after"></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Settle Modal -->
    <div class="modal" id="settle">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <ul class="nav nav-pills" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link nav-custom active" data-toggle="pill" href="#instant_settle">結算</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#adjust">調整番數</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#change_seat">換位</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#change_name">改名</a>
                        </li>
                    </ul>
                    </div>
                    <div class="modal-body">
                    <div class="tab-content">
                        <div class="tab-pane show active" id="instant_settle">
                            <table>
                        <tr>
                            <th style="width: 80%"></th>
                            <th style="width: 20%"></th>
                        </tr>
                            </table>
                            <div class="center_button_container none">
                                <a class="button" href="javascript:iset('all');">結算全部</a>
                            </div>
                        </div>
                        <div class="tab-pane" id="adjust">
                            <div class="mt-2" style="font-size: 4vh">
                            所有調整皆不會影響現時的拉踢：
                            </div>
                            <table style="width: 100%">
                                <tr>
                                    <th style="width: 30%">玩家名稱</th>
                                    <th style="width: 20%">現時番數</th>
                                    <th style="width: 30%">動作</th>
                                    <th style="width: 20%">數值</th>
                                </tr>
                                <tr>
                                    <td class="p1box"></td>
                                    <td></td>
                                    <td><div class="select_pan adjust_select_pan row"><a class="select add" href="javascript:void(0);" title="增加番數"><div class="col"><i class="fas fa-plus-square"></i></div></a><a class="select minus" href="javascript:void(0);" title="減少番數"><div class="col"><i class="fas fa-minus-square"></i></div></a><a class="select equal" href="javascript:void(0);" title="設定番數為右方數值"><div class="col"><i class="fas fa-equals"></i></div></a></div></td>
                                    <td><input type="number" class="numonly p1_input"></td>
                                </tr>
                                <tr>
                                    <td class="p2box"></td>
                                    <td></td>
                                    <td><div class="select_pan adjust_select_pan row"><a class="select add" href="javascript:void(0);" title="增加番數"><div class="col"><i class="fas fa-plus-square"></i></div></a><a class="select minus" href="javascript:void(0);" title="減少番數"><div class="col"><i class="fas fa-minus-square"></i></div></a><a class="select equal" href="javascript:void(0);" title="設定番數為右方數值"><div class="col"><i class="fas fa-equals"></i></div></a></div></td>
                                    <td><input type="number" class="numonly p2_input"></td>
                                </tr>
                                <tr>
                                    <td class="p3box"></td>
                                    <td></td>
                                    <td><div class="select_pan adjust_select_pan row"><a class="select add" href="javascript:void(0);" title="增加番數"><div class="col"><i class="fas fa-plus-square"></i></div></a><a class="select minus" href="javascript:void(0);" title="減少番數"><div class="col"><i class="fas fa-minus-square"></i></div></a><a class="select equal" href="javascript:void(0);" title="設定番數為右方數值" ><div class="col"><i class="fas fa-equals"></i></div></a></div></td>
                                    <td><input type="number" class="numonly p3_input"></td>
                                </tr>
                                <tr>
                                    <td class="p4box"></td>
                                    <td></td>
                                    <td><div class="select_pan adjust_select_pan row"><a class="select add" href="javascript:void(0);" title="增加番數"><div class="col"><i class="fas fa-plus-square"></i></div></a><a class="select minus" href="javascript:void(0);" title="減少番數"><div class="col"><i class="fas fa-minus-square"></i></div></a><a class="select equal" href="javascript:void(0);"title="設定番數為右方數值"><div class="col"><i class="fas fa-equals"></i></div></a></div></td>
                                    <td><input type="number" class="numonly p4_input"></td>
                                </tr>
                                    <td>
                                </tr>
                            </table>
                            <div class="center_button_container">
                                <a class="button" href="javascript:adjust();">即時調整</a>
                            </div>
                        </div>
                        <div class="tab-pane" id="change_seat">
                            <div class="mt-2">請選擇換位方法：</div>
                            <div class="mt-2 mb-2 row select_pan" id="change_seat_pan">
                                <a class="button select col" href="javascript:void(0);">東南對調、西北對調</a>
                                <a class="button select col" href="javascript:void(0);">自選 </a>
                            </div>
                            <div class="player_select row select_pan mt-2 ml-2 none" id="pane1">
                                東位：
                                <a class="p1box col" href="javascript:void(0);"></a>
                                <a class="p2box col" href="javascript:void(0);"></a>
                                <a class="p3box col" href="javascript:void(0);"></a>
                                <a class="p4box col" href="javascript:void(0);"></a>
                            </div>
                            <div class="player_select row select_pan mt-2 ml-2 none" id="pane2">
                                南位：
                                <a class="p1box col" href="javascript:void(0);"></a>
                                <a class="p2box col" href="javascript:void(0);"></a>
                                <a class="p3box col" href="javascript:void(0);"></a>
                                <a class="p4box col" href="javascript:void(0);"></a>
                            </div>
                            <div class="player_select row select_pan mt-2 ml-2 none" id="pane3">
                                西位：
                                <a class="p1box col" href="javascript:void(0);"></a>
                                <a class="p2box col" href="javascript:void(0);"></a>
                                <a class="p3box col" href="javascript:void(0);"></a>
                                <a class="p4box col" href="javascript:void(0);"></a>
                            </div>
                            <div class="player_select row select_pan mt-2 mb-2 ml-2 none" id="pane4">
                                北位：
                                <a class="p1box col" href="javascript:void(0);"></a>
                                <a class="p2box col" href="javascript:void(0);"></a>
                                <a class="p3box col" href="javascript:void(0);"></a>
                                <a class="p4box col" href="javascript:void(0);"></a>
                            </div>
                            <div class="center_button_container none">
                                <a class="button" href="javascript:change_seat();">換位</a>
                            </div>
                        </div>
                        <div class="tab-pane" id="change_name">
                            <div class="mt-2">請更改需改名玩家的名字：</div>
                            <div class="row" style="display:flex; justify-content:center;：">
                                <div class="mt-2 ml-2 mr-2 col-5"><input class="p1_input"></input></div>
                                <div class="mt-2 ml-2 mr-2 col-5"><input class="p2_input"></input></div><br>
                                <div class="mt-2 ml-2 mr-2 mb-2 col-5"><input class="p3_input"></input></div>
                                <div class="mt-2 ml-2 mr-2 mb-2 col-5"><input class="p4_input"></input></div>
                            </div>
                            <div class="center_button_container">
                                <a class="button" href="javascript:change_name();">改名</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Break modal -->
    <div class="modal" id="break">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="title">終止拉踢</div>
                    <table style="font-size: 2.5vh">
                        <tr>
                            <th style="width: 80%"></th>
                            <th style="width: 20%"></th>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!--End Modal-->
    <div class="modal" id="end">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="title">完結遊戲?</div>
                        <a class="button ml-2" style="float: left" href="javascript:end();">確定</a>
                        <a class="button mr-2" style="float: right" href="javascript:void(0);">取消</a>
                </div>
            </div>
        </div>
    </div>
</div>
