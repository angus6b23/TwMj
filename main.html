<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>港式台牌計分面板</title>
    <!-- Google fonts for Noto Serif and Sans-->
    <link href="assets/noto_fonts/import_font.css" rel="stylesheet">
    <!-- Bootstrap, jQuery and JS bundle w/ Popper.js -->
    <link rel="stylesheet" href="assets/bootstrap.4.6.0.min.css">
    <script src="assets/jquery-3.5.1.slim.min.js"></script>
    <script src="assets/bootstrap.bundle.4.6.0.min.js"></script>
    <!-- Chart.js -->
    <script src="assets/chart.min.js"></script>
    <!-- html2canvas.js -->
    <script src="assets/html2canvas.min.js"></script>
    <!-- Main javascript -->
    <script src="main.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <!-- Icon -->
    <link rel="icon" href="assets/icon.ico" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="assets/font_awesome/all.css" />
    <!-- Progressive webapp-->
    <link rel="manifest" href="manifest.webmanifest">
</head>
<body>

    <!-- Initial settings -->
<div id="global">
    <div class="container-fluid" id="initial">
        <div id="setting-diag">
            <div class="title">請輸入玩家名稱</div>
            <div>
                <label for="name_east">東位：</label>
                <input type="text" name="name_east" id="name_east"></input>
            </div>
            <div>
                <label for="name_south">南位：</label>
                <input type="text" name="name_south" id="name_south"></input>
            </div>
            <div>
                <label for="name_west">西位：</label>
                <input type="text" name="name_west" id="name_west"></input>
            </div>
            <div>
                <label for="name_north">北位：</label>
                <input type="text" name="name_north" id="name_north"></input>
            </div>
            <div class="row mt-1 select_pan">
                <div class="col-3">字體：</div>
                <a class="col-3 button select active" href="javascript:set_font('');">預設</a>
                <a class="col-3 button select" href="javascript:set_font('Noto Serif TC, serif');" style="font-family: Noto Serif TC, serif">思源宋體</a>
                <a class="col-3 button select" href="javascript:set_font('Noto Sans TC, sans-serif');" style="font-family: Noto Sans TC, sans-serif">思源黑體</a>
            </div>
            <a class="button mt-1" href="javascript:void(0);" style="width: 100%" data-toggle="modal" data-target="#option"><i class="fas fa-cogs mr-2"></i>選項</a>
            <a class="button mt-1" href="javascript:void(0);" style="width: 100%" data-toggle="modal" data-target="#about"><i class="fas fa-heart mr-2"></i></i>關於</a>
            <a class="button button-big mt-1" href="javascript:initiate();"><i class="fas fa-gamepad mr-2"></i>開始</a>
        </div>
        <div style="position: absolute; bottom: 0px; right: 0px;">20220616 Nightly</div>
    </div>
    <!-- Main screen -->
    <div class="container-fluid" id="main">
        <div class="row">
            <div class="col" id="main_left">
                <div class="row">
                    <div class="title col-4" id="time"></div>
                    <div class="title col-8" id="turn"></div>
                </div>
                <div id="table_wrap">
                    <div id="table">
                        <div class="corner" id="left-upper_corner"></div>
                        <div class="hori-block text-block" id="N-text"></div>
                        <div class="corner" id="right-upper_corner"></div>
                        <div class="corner" id="left-upper_div"></div>
                        <div class="hori-block" id="north"><div class="streak"></div><i class="fas fa-exclamation-circle none" data-toggle="modal" data-target="#break"></i></div>
                        <div class="corner" id="right-upper_div"></div>
                        <div class="vert-block text-block" id="E-text"></div>
                        <div class="vert-block" id="east"><div class="streak"></div><i class="fas fa-exclamation-circle none" data-toggle="modal" data-target="#break"></i></div>
                        <div id="center"><i class="fas fa-balance-scale-left none" data-toggle="tooltip" data-placement="top" title="番數曾經被手動調整；請參考記錄" style="font-size: 5vh; align-self: center"></i></div>
                        <div class="vert-block" id="west"><div class="streak"></div><i class="fas fa-exclamation-circle none" data-toggle="modal" data-target="#break"></i></div>
                        <div class="vert-block text-block" id="W-text"></div>
                        <div class="corner" id="left-lower_div"></div>
                        <div class="hori-block" id="south"><div class="streak"></div><i class="fas fa-exclamation-circle none" data-toggle="modal" data-target="#break"></i></div>
                        <div class="corner" id="right-lower_div"></div>
                        <div class="corner" id="left-lower_corner"></div>
                        <div class="hori-block text-block" id="S-text"></div>
                        <div class="corner" id="right-lower_corner"></div>
                    </div>
                </div>
                <div>
                    <div class="row mt-2">
                        <a class="col button button-medium ml-2 mr-1" href="javascript:void(0);" data-toggle="modal" data-target="#instant"><i class="fas fa-bolt mr-2"></i>即收・即付</a>
                        <a class="col button button-medium mr-2 ml-1" href="javascript:void(0);" data-toggle="modal" data-target="#ron"><i class="fas fa-crown mr-2"></i>食糊・流局</a>
                    </div>
                    <div class="row mt-2">
                        <a class="col button button-medium ml-2 mr-1" data-toggle="modal" data-target="#settle" href="javascript:void(0);"><i class="fas fa-calculator mr-2"></i>結算・調整</a>
                        <a class="col button button-medium mr-2 ml-1" href="javascript:display_pause_screen(true)"><i class="far fa-pause-circle mr-2"></i>暫停・結束</a>
                    </div>
                </div>
            </div>
            <div class="col" id="main_right">
                <div id="rightbuttongroup">
                    <span class="mt-1 mr-2">
                    <a href="javascript:toggle_money_display();" data-toggle="tooltip" data-placement="bottom" title="按一下切換數值顯示為番或錢"><i class="fas fa-list-ul mr-1"></i><span class="toggle_money_display">番</span></a>
                    </span>
                    <span class="mt-1 mr-2">
                    <a id="undo" href="javascript:undo();" data-toggle="tooltip" data-placement="bottom" title="按一下取消上一次數值更變"><i class="fas fa-undo mr-1"></i>還原</a>
                    </span>
                    <span class="mt-1 mr-2">
                    <a id="redo" href="javascript:redo();" data-toggle="tooltip" data-placement="bottom" title="按一下重做上一次數值更變"><i class="fas fa-redo mr-1"></i>重做</a>
                    </span>
                    <span class="mt-1 mr-2" data-toggle="modal" data-target="#log">
                    <a href="javascript:void(0);" data-toggle="tooltip" data-placement="bottom" title="顯示游戲的記錄"><i class="far fa-clipboard mr-1"></i>記錄</a>
                    </span>
                    <span class="mt-1 mr-2" data-toggle="modal" data-target="#option">
                    <a href="javascript:void(0);" data-toggle="tooltip" data-placement="bottom" title="選項包括更變主題、儲存及載入進度"><i class="fas fa-cogs mr-1"></i>選項</a>
                    </span>
                    <span class="mt-1" data-toggle="modal" data-target="#about">
                    <a href="javascript:void(0);" data-toggle="tooltip" data-placement="bottom" title="有關本網頁及助養作者"><i class="fas fa-heart mr-1"></i>關於</a>
                    </span>
                </div>
                <div id="record" class="mt-2">
                    <table>
                        <tr id="record_add">
                            <th class="first_row">#</th>
                            <th class="other_row p1name"></th>
                            <th class="other_row p2name"></th>
                            <th class="other_row p3name"></th>
                            <th class="other_row p4name"></th>
                        </tr>
                    </table>
                </div>
                <div id="stat_view" class="mt-3">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="game_stat_view">
                            <div class="row" style="width: 95%">
                                <div class="col">
                                    <table style="width: 100%">
                                        <tr>
                                            <th style="width: 50%; border-bottom: 0.5vh solid var(--highlight);">項目</th>
                                            <th style="width: 50%; border-bottom: 0.5vh solid var(--highlight);">數值</th>
                                        </tr>
                                        <tr id="stat_get">
                                            <td>即收總和</td>
                                            <td></td>
                                        </tr>
                                        <tr id="stat_pay">
                                            <td>即付總和</td>
                                            <td></td>
                                        </tr>
                                        <tr id="stat_avg_yaku">
                                            <td>平均食糊番數</td>
                                            <td></td>
                                        </tr>
                                        <tr id="stat_total_change">
                                            <td>總番數流動</td>
                                            <td></td>
                                        </tr>
                                        <tr id="game_max_yaku">
                                            <td>最大食糊番數</td>
                                            <td></td>
                                        </tr>
                                        <tr id="game_max_streak">
                                            <td>最大連莊</td>
                                            <td></td>
                                        <tr>
                                    </table>
                                </div>
                                <div class="col">
                                    <table style="width: 100%">
                                        <tr>
                                            <th style="width: 33%; border-bottom: 0.5vh solid var(--highlight);">統計</th>
                                            <th style="width: 33%; border-bottom: 0.5vh solid var(--highlight);">總數</th>
                                            <th style="width: 33%; border-bottom: 0.5vh solid var(--highlight);">比例</th>
                                        </tr>
                                        <tr id="stat_draw">
                                            <td>流局</td>
                                            <td>0</td>
                                            <td>0%</td>
                                        </tr>
                                        <tr id="stat_deal">
                                            <td>出銃</td>
                                            <td>0</td>
                                            <td>0%</td>
                                        </tr>
                                        <tr id="stat_tsumo">
                                            <td>自摸</td>
                                            <td>0</td>
                                            <td>0%</td>
                                        </tr>
                                        <tr id="stat_round">
                                            <td>總局數</td>
                                            <td>0</td>
                                            <td>100%</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="player_stat_view">
                            <table style="width: 95%">
                                <tr>
                                    <th style="width: 20%; border-bottom: 0.5vh solid var(--highlight);">項目</th>
                                    <th style="width: 20%" colspan="2" class="p1name"></th>
                                    <th style="width: 20%" colspan="2" class="p2name"></th>
                                    <th style="width: 20%" colspan="2" class="p3name"></th>
                                    <th style="width: 20%" colspan="2" class="p4name"></th>
                                </tr>
                                <tr id="player_win">
                                    <td>勝<td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                </tr>
                                <tr id="player_lose">
                                    <td>負<td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                </tr>
                                <tr id="player_tsumo">
                                    <td>自摸</td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                </tr>
                                <tr id="player_deal">
                                    <td>出銃<td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                </tr>
                                <tr id="player_instantget">
                                    <td>即收</td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                </tr>
                                <tr id="player_instantpay">
                                    <td>即付</td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                    <td></td><td></td>
                                </tr>
                                <tr id="player_max_yaku">
                                    <td>最大番數</td>
                                    <td colspan="2"></td>
                                    <td colspan="2"></td>
                                    <td colspan="2"></td>
                                    <td colspan="2"></td>
                                </tr>
                                <tr id="player_max_streak">
                                    <td>最大連莊</td>
                                    <td colspan="2"></td>
                                    <td colspan="2"></td>
                                    <td colspan="2"></td>
                                    <td colspan="2"></td>
                                </tr>
                            </table>
                        </div>
                        <div class="tab-pane fade" id="graph_view">
                            <div id="graph_container">
                                <canvas id="balance_chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="stat_nav">
                    <ul class="nav nav-pills" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link nav-stat active" data-toggle="pill" href="#game_stat_view">游戲數據</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-stat" data-toggle="pill" href="#player_stat_view">玩家數據</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-stat" data-toggle="pill" href="#graph_view">圖表</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col none" id="footer_context" style="justify-content: center;">
                <div class="row align-items-center justify-content-center" style="text-align: center; height: 92vh">
                    <div class="col-6">
                        <a href="javascript:void(0)">
                            <div><i class="fas fa-undo mr-3"></i>還原</div>
                        </a>
                    </div>
                    <div class="col-6">
                        <a href="javascript:void(0)">
                            <div><i class="fas fa-redo mr-3"></i>重做</div>
                        </a>
                    </div>
                    <div class="col-6">
                        <a href="javascript:toggle_money_display()">
                            <div><i class="fas fa-list-ul mr-1"></i><span class="toggle_money_display">番</span></div>
                        </a>
                    </div>
                    <div class="col-6">
                        <a href="javascript:void(0)">
                            <div data-toggle="modal" data-target="#log"><i class="fas fa-clipboard mr-3"></i>紀錄</div>
                        </a>
                    </div>
                    <div class="col-6">
                        <a href="javascript:void(0)">
                            <div data-toggle="modal" data-target="#option"><i class="fas fa-cogs mr-3"></i>選項</div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Pause Screen -->
    <div class="container-fluid none" id="pause_screen">
        <div class="row">
            <div class="row col" id="capture">
                <div class="col-6 pause_div mt-2" id="ranking">
                    <h1><i class="fas fa-trophy mr-2"></i>排名</h1>
                    <div class="d-flex justify-content-center">
                        <table id="ranking" style="width: 80%">
                            <tr>
                                <td align="right"><i class="fas fa-crown mr-2"></i></td>
                                <td align="middle"></td>
                                <td align="left"></td>
                            </tr>
                            <tr >
                                <td align="right"></td>
                                <td align="middle"></td>
                                <td align="left"></td>
                            </tr>
                            <tr class='mt-2'>
                                <td align="right"></td>
                                <td align="middle"></td>
                                <td align="left"></td>
                            </tr>
                            <tr class='mt-2'>
                                <td align="right"></td>
                                <td align="middle"></td>
                                <td align="left"></td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="col-6 pause_div mt-2" id="game_stats">
                    <h1><i class="fas fa-award mr-2"></i>里程碑</h1>
                    <div class="d-flex flex-wrap justify-content-center">
                        <div class="milestone">
                            <i class="fas fa-bomb mr-2"></i>炸彈級
                            <span class="ml-2"></span>
                        </div>
                        <div class="milestone">
                            <i class="fas fa-hand-holding-usd mr-2"></i>好摸手
                            <span class="ml-2"></span>
                        </div>
                        <div class="milestone">
                            <i class="fas fa-shield-alt mr-2"></i>守衛
                            <span class="ml-2"></span>
                        </div>
                        <div class="milestone">
                            <i class="fas fa-wallet mr-2"></i>袋袋平安
                            <span class="ml-2"></span>
                        </div>
                        <div class="milestone">
                            <i class="fas fa-laugh mr-2"></i>長莊
                            <span class="ml-2"></span>
                        </div>
                        <div class="milestone">
                            <i class="fas fa-heart-broken mr-2"></i>心已碎
                            <span class="ml-2"></span>
                        </div>
                    </div>
                </div>

                <div class="col-12 pause_div" id="pause_chart">
                    <h1><i class="fas fa-chart-line mr-2"></i>圖表</h1>
                    <div style="width: 95%; height: 95%">
                        <canvas id="balance_chart2"></canvas>
                    </div>
                </div>
                <div class="none" id="timestamp"></div>
                <div id="placeholder_for_protrait"></div>
            </div>
            <div class="col-2" style="height:98vh" id="pause_controls">
                <a class="button button-big" href="javascript:display_pause_screen(false);"><div><i class="fas fa-play mr-3"></i>繼續</div></a>
                <a class="button button-big" href="javascript:capture_screen();"><div><i class="fas fa-camera-retro camera mr-3"></i>截圖</div></a>
                <a class="button button-big" href="javascript:display_pause_screen(false);"><div><i class="fas fa-check-circle mr-3"></i>結束</div></a>
            </div>
        </div>
    </div>
    <!-- Footer Menu -->
    <div id="footer_menu">
        <div class="row align-items-center" id="normal_footer" style="height:100%">
            <div class="col highlight footer_select">
                <a href="javascript:void(0)">
                    <div>
                        <i class="fas fa-border-all"></i><br>主頁
                    </div>
                </a>
            </div>
            <div class="col footer_select">
                <a href="javascript:void(0)">
                    <div>
                        <i class="far fa-chart-bar"></i><br>數據
                    </div>
                </a>
            </div>
            <div class="col footer_select">
                <a href="javascript:void(0)">
                    <div>
                        <i class="fas fa-ellipsis-v"></i><br>其他
                    </div>
                </a>
            </div>
        </div>
        <div class="row align-items-center none" id="pause_footer" style="height:100%">
            <div class="col footer_select">
                <a href="javascript:display_pause_screen(false);">
                    <div>
                        <i class="fas fa-play"></i><br>繼續
                    </div>
                </a>
            </div>
            <div class="col footer_select">
                <a href="javascript:capture_screen();">
                    <div>
                        <i class="fas fa-camera-retro camera"></i><br>截圖
                    </div>
                </a>
            </div>
            <div class="col footer_select">
                <a href="javascript:void(0)">
                    <div>
                        <i class="far fa-check-circle"></i><br>結束
                    </div>
                </a>
            </div>
        </div>
    </div>
    <!--Context Menu-->
    <div class="list-group none" id="context">
        <li class="list-group-item list-group-item-action" id="context_name" style="font-weight: bold"><div class="context_wrap"></div></li>
        <a class="list-group-item list-group-item-action" id="context_instantget"><div class="context_wrap">即收</div></a>
        <a class="list-group-item list-group-item-action" id="context_instantpay"><div class="context_wrap">即付</div></a>
        <a class="list-group-item list-group-item-action" id="context_deal"><div class="context_wrap">出統</div></a>
        <a class="list-group-item list-group-item-action" id="context_tsumo"><div class="context_wrap">自摸</div></a>
    </div>
    <!-- Modals -->
    <!-- About modal -->
    <div class="modal" id="about">
        <div class="modal-dialog modal-diaglog-centered modal-lg modal-diaglog-scrollable">
            <div class="modal-content">
                <div class="modal-header title">
                    <div class="nav nav-pills" role="tablist">
                        <ul class="nav nav-pills" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link nav-custom active" data-toggle="pill" href="#license">授權</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link nav-custom" data-toggle="pill" href="#about_tech">關於</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link nav-custom" data-toggle="pill" href="#support">支持</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="tab-content">
                        <div class="tab-pane show active" id="license">
                            <p>港式台牌計分面板</p>
                            <p>Copyright (C) 2021  Rippka</p>

                            <p class=mt-2>This program is free software: you can redistribute it and/or modify
                            it under the terms of the GNU General Public License as published by
                            the Free Software Foundation, either version 3 of the License, or
                            (at your option) any later version.</p>

                            <p class=mt-2>This program is distributed in the hope that it will be useful,
                            but WITHOUT ANY WARRANTY; without even the implied warranty of
                            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
                            GNU General Public License for more details.</p>

                            <p class=mt-2>You should have received a copy of the GNU General Public License
                            along with this program.  If not, see <a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>.</p>
                        </div>
                        <div class="tab-pane" id="about_tech">
                            <p>本站使用以下函式庫或字型：</a>
                                <ul>
                                    <li>Bootstrap 4.6.0 (MIT)</li>
                                    <li>JQuery 3.5.1 (MIT)</li>
                                    <li>Chart.js (MIT)</li>
                                    <li>html2canvas (MIT)</li>
                                    <li>Font Awesome (MIT, Sil OFL)</li>
                                    <li>Noto Fonts (Sil OFL)</li>
                                </ul>
                        </div>
                        <div class="tab-pane" id="support">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--Option modal -->
    <div class="modal" id="option">
        <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header title">
                    <ul class="nav nav-pills" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link nav-custom active" data-toggle="pill" href="#game_setting">游戲設置</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#theme_setting">外觀設置</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#io">匯入/匯出</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#clear">清除暫存</a>
                        </li>
                    </ul>
                </div>
                <div class="modal-body">
                    <div class="tab-content">
                        <div class="tab-pane show active" id="game_setting">
                            <div class="row">
                                <div class="col-6 gs_left"><i class="fas fa-info-circle" title="所有玩家的初始番數&#13;&#10;預設為 0"></i> 底（番數）：</div>
                                <div class="col-6 gs_right"><input id="option_base" class="positiveintonly" type="number"></input></div>
                                <div class="col-6 gs_left"><i class="fas fa-info-circle" title="每一番代表多少錢&#13;&#10;只用於顯示&#13;&#10;預設為 1"></i> 番數對金錢：</div>
                                <div class="col-6 gs_right"><input id="option_money" class="numonly" type="number"></input></div>
                                <div class="col-6 gs_left"><i class="fas fa-info-circle" title="拉的時侯番數的倍數&#13;&#10;例：設倍數為1.5。第一局，甲勝乙100番。如甲於第二局再勝乙時，甲於第一局所贏的番數會變成150番。&#13;&#10;預設為 1.5，必須大於 1"></i> 連勝倍數：</div>
                                <div class="col-6 gs_right"><input id="option_fold" class="numonly" type="number"></input></div>
                                <div class="col-6 gs_left"><i class="fas fa-info-circle" title="當連續輸給某一玩家x局，輸的玩家可選擇中止拉踢&#13;&#10;預設為 3&#13;&#10;0 代表無限拉"></i>中止拉踢局數：</div>
                                <div class="col-6 gs_right"><input id="option_break" class="positiveintonly" type="number"></input></div>
                                <div class="col mt-2" id="setting_error" style="text-align:center"></div>
                            </div>
                            <div class="center_button_container col mt-2">
                                <a class="button mr-2" href="javascript:fill_default()">預設</a>
                                <a class="button" href="javascript:get_game_setting()">保存</a>
                            </div>
                        </div>
                        <div class="tab-pane" id="theme_setting">
                            <div class="row" style="justify-content: center">
                                <div class="col-4 gs_left">主題</div>
                                <div class="col-8 gs_right"><select id="theme_select">
                                    <option value="Nord">北歐</option>
                                    <option value="Nord_alt">冷色系北歐</option>
                                    <option value="Dracula">德古拉</option>
                                    <option value="Gruvbox_light">亮色航空</option>
                                    <option value="Gruvbox_dark">暗色航空</option>
                                    <option value="High_contrast">高對比</option>
                                </select></div>
                                <div class="mt-1 col-4 gs_left">字體</div>
                                <div class="mt-1 col-8 gs_right">
                                    <div class="select_pan row" style="width: 50%">
                                        <a class="button select col active" href="javascript:set_font('');"><div>預設</div></a>
                                        <a class="button select col" href="javascript:set_font('Noto Serif TC, serif');" style="font-family: Noto Serif TC, serif"><div>思源宋體</div></a>
                                        <a class="button select col" href="javascript:set_font('Noto Sans TC, sans-serif');" style="font-family: Noto Sans TC, sans-serif"><div>思源黑體</div></a>
                                    </div>
                                </div>
                                <div class="col mt-2" style="text-align:center;"><a class="button" href="javascript:fullscreen();">全屏幕</a></div>
                            </div>
                        </div>
                        <div class="tab-pane" id="io">
                            <div class="row mr-1 ml-1">
                                <div class="col-4">匯出：</div>
                                <div class="col-8" style="display: flex; justify-content: flex-end;">
                                    <a class="button mr-2" style="width: 25vh" id="download">另儲為JSON檔</a>
                                    <a class="button" style="width: 25vh" id="clipboard" href="javascript:void(0);">複制到剪貼簿</a>
                                </div>
                                <div class="col-12 mt-2"><textarea id="export" readonly></textarea></div>
                                <div class="col-12 mt-3">匯入：</div>
                                <div class="col-12 mt-2"><textarea id="import"></textarea></div>
                                <div class="col-12 mt-1" id="import_error_msg"></div>
                                <div class="center_button_container col mt-2">
                                    <a class="button" id="import_button" href="javascript:void(0);" style="width: 16vh">匯入並開始</a>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="clear">
                            <div class="mt-2" style="font-size:clamp(15px, 4vh, 45px);"><i class="fas fa-exclamation-triangle"></i>清理資料會影響現時設置及遊戲</div>
                            <div class="row select_pan mt-2">
                                <a class="button select col" href="javascript:void(0);">清除所有資料</a>
                                <a class="button select col" href="javascript:void(0);">撤銷 Service Worker</a>
                                <a class="button select col" href="javascript:void(0);">清除資料並撤銷 Service Worker</a>
                            </div>
                            <div class="center_button_container mt-2"><a class="button" href="javascript:trigger_clear_data();">確定</a></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Instant pay or get modal -->
    <div class="modal" id="instant">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <ul class="nav nav-pills" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link nav-custom active" data-toggle="pill" href="#instantget">即收</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#instantpay">即付</a>
                        </li>
                    </ul>
                </div>
                <div class="modal-body">
                    <div class="tab-content">
                        <div class="tab-pane show active" id="instantget">
                            <div class="mt-2">請選擇即收者：
                                <div class="player_select row select_pan">
                                    <a class="p1box col" href="javascript:void(0);"></a>
                                    <a class="p2box col" href="javascript:void(0);"></a>
                                    <a class="p3box col" href="javascript:void(0);"></a>
                                    <a class="p4box col" href="javascript:void(0);"></a>
                                </div>
                            </div>
                            <div class="mt-2">
                                <label>即收數目：</label>
                                <div class="select_pan row">
                                    <a class="button select col-4" href="javascript:void(0);">3</a>
                                    <a class="button select col-4" href="javascript:void(0);">5</a>
                                    <a class="button select col-4" href="javascript:void(0);">8</a>
                                    <a class="button select col" href="javascript:void(0);">其他：<input type="number" class="others ml-2 positiveintonly" id="instantget_others"></input></a>
                                </div>
                            </div>
                            <div class="mt-2 center_button_container none">
                                <a class="button" href="javascript:instant('get');">確定</a>
                            </div>
                        </div>
                        <div class="tab-pane" id="instantpay">
                            <div class="mt-2">請選擇即付者：
                                <div class="player_select row select_pan">
                                    <a class="p1box col" href="javascript:void(0);"></a>
                                    <a class="p2box col" href="javascript:void(0);"></a>
                                    <a class="p3box col" href="javascript:void(0);"></a>
                                    <a class="p4box col" href="javascript:void(0);"></a>
                                </div>
                            </div>
                            <div class="mt-2">
                                <label>即付數目：</label>
                                <div class="select_pan row">
                                    <a class="button select col-6" href="javascript:void(0);">5</a>
                                    <a class="button select col-6" href="javascript:void(0);">10</a>
                                    <a class="button select col" href="javascript:void(0);">其他：<input type="number" class="others ml-2 positiveintonly" id="instantpay_others"></input></a>
                                </div>
                                </select>
                            </div>
                            <div class="mt-2 center_button_container none">
                                <a class="button" href="javascript:instant('pay');">確定</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Ron modal -->
    <div class="modal" id="ron">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <ul class="nav nav-pills" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link nav-custom active" data-toggle="pill" href="#deal">出銃</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#tsumo">自摸</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#draw">流局</a>
                        </li>
                    </ul>
                    </div>
                    <div class="modal-body">
                    <div class="tab-content">
                        <div class="tab-pane show active" id="deal">
                            <div class="mt-2">請先選擇出銃玩家，並輸入勝利玩家的番數：</div>
                            <div class="mt-1 row player_select select_pan">
                                    <div class="col">
                                        <a class="p1box" href="javascript:void(0);"></a>
                                        <input type="number" class="positiveintonly p1form none"></input>
                                    </div>
                                    <div class="col">
                                        <a class="p2box" href="javascript:void(0);"></a>
                                        <input type="number" class="positiveintonly p2form none"></input>
                                    </div>
                                    <div class="col">
                                        <a class="p3box" href="javascript:void(0);"></a>
                                        <input type="number" class="positiveintonly p3form none"></input>
                                    </div>
                                    <div class="col">
                                        <a class="p4box" href="javascript:void(0);"></a>
                                        <input type="number" class="positiveintonly p4form none"></input>
                                    </div>
                            </div>
                            <div class="center_button_container none" style="margin-top: 2vh;">
                                <a class="button" href="javascript:deal();">確定</a>
                            </div>
                        </div>
                        <div class="tab-pane" id="tsumo">
                            <div class="mt-2">請先選擇自摸玩家，並輸入其他玩家的番數：</div>
                            <div class="mt-1 row player_select select_pan">
                                <div class="col">
                                    <a class="p1box" href="javascript:void(0);"></a>
                                    <input type="number" class="positiveintonly p1form none"></input>
                                </div>
                                <div class="col">
                                    <a class="p2box" href="javascript:void(0);"></a>
                                    <input type="number" class="positiveintonly p2form none"></input>
                                </div>
                                <div class="col">
                                    <a class="p3box" href="javascript:void(0);"></a>
                                    <input type="number" class="positiveintonly p3form none"></input>
                                </div>
                                <div class="col">
                                    <a class="p4box" href="javascript:void(0);"></a>
                                    <input type="number" class="positiveintonly p4form none"></input>
                                </div>
                            </div>
                            <div class="center_button_container none" style="margin-top: 2vh;">
                                <a class="button" href="javascript:tsumo();">確定</a>
                            </div>
                        </div>
                        <div class="tab-pane" id="draw">
                            <div class="mt-2">請選擇流局方式：</div>
                            <div class="row draw_select mt-2 select_pan" id="draw_select" style="font-size: 3vh">
                                <div class="col">
                                    <a class="select" id="holdplus" href="javascript:void(0);">連莊並莊加一</a>
                                </div>
                                <div class="col">
                                    <a class="select" id="hold" href="javascript:void(0);">只留莊</a>
                                </div>
                                <div class="col">
                                    <a class="select" id="pass" href="javascript:void(0);">過莊</a>
                                </div>
                            </div>
                            <div class="center_button_container" style="margin-top: 2vh;">
                                <a class="button" href="javascript:draw();">確定</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Log Modal -->
    <div class="modal" id="log">
        <div class="modal-dialog modal-lg modal-dialog-scrollable mh-75">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true" style="color:var(--fg-nord); font-size:2.5vh">&times;</span>
                    </button>
                    <div class="title">記錄</div>
                        <table id="log_table">
                            <tr style="font-size: 2.5vh">
                                <th style="width: 25%; border-bottom: solid 0.5vh var(--highlight)">時間</th>
                                <th style="width: 75%; border-bottom: solid 0.5vh var(--highlight)">事件</th>
                            </tr>
                            <tr id="log_after"></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Settle Modal -->
    <div class="modal" id="settle">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <ul class="nav nav-pills" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link nav-custom active" data-toggle="pill" href="#instant_settle">結算</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#adjust">調整番數</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#change_seat">換位</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-custom" data-toggle="pill" href="#change_name">改名</a>
                        </li>
                    </ul>
                    </div>
                    <div class="modal-body">
                    <div class="tab-content">
                        <div class="tab-pane show active" id="instant_settle">
                            <table>
                        <tr>
                            <th style="width: 80%"></th>
                            <th style="width: 20%"></th>
                        </tr>
                            </table>
                            <div class="center_button_container none">
                                <a class="button" href="javascript:iset('all');">結算全部</a>
                            </div>
                        </div>
                        <div class="tab-pane" id="adjust">
                            <div class="mt-2" style="font-size: 2.5vh">
                                <i class="fas fa-exclamation-triangle"></i>
                                所有調整皆不會影響現時的拉踢：
                            </div>
                            <table style="width: 100%">
                                <tr>
                                    <th style="width: 30%">玩家名稱</th>
                                    <th style="width: 20%">現時番數</th>
                                    <th style="width: 30%">動作</th>
                                    <th style="width: 20%">數值</th>
                                </tr>
                                <tr>
                                    <td class="p1box"></td>
                                    <td></td>
                                    <td><div class="select_pan adjust_select_pan row"><a class="select add" href="javascript:void(0);" title="增加番數"><div class="col"><i class="fas fa-plus-square"></i></div></a><a class="select minus" href="javascript:void(0);" title="減少番數"><div class="col"><i class="fas fa-minus-square"></i></div></a><a class="select equal" href="javascript:void(0);" title="設定番數為右方數值"><div class="col"><i class="fas fa-equals"></i></div></a></div></td>
                                    <td><input type="number" class="intonly p1_input"></td>
                                </tr>
                                <tr>
                                    <td class="p2box"></td>
                                    <td></td>
                                    <td><div class="select_pan adjust_select_pan row"><a class="select add" href="javascript:void(0);" title="增加番數"><div class="col"><i class="fas fa-plus-square"></i></div></a><a class="select minus" href="javascript:void(0);" title="減少番數"><div class="col"><i class="fas fa-minus-square"></i></div></a><a class="select equal" href="javascript:void(0);" title="設定番數為右方數值"><div class="col"><i class="fas fa-equals"></i></div></a></div></td>
                                    <td><input type="number" class="intonly p2_input"></td>
                                </tr>
                                <tr>
                                    <td class="p3box"></td>
                                    <td></td>
                                    <td><div class="select_pan adjust_select_pan row"><a class="select add" href="javascript:void(0);" title="增加番數"><div class="col"><i class="fas fa-plus-square"></i></div></a><a class="select minus" href="javascript:void(0);" title="減少番數"><div class="col"><i class="fas fa-minus-square"></i></div></a><a class="select equal" href="javascript:void(0);" title="設定番數為右方數值" ><div class="col"><i class="fas fa-equals"></i></div></a></div></td>
                                    <td><input type="number" class="intonly p3_input"></td>
                                </tr>
                                <tr>
                                    <td class="p4box"></td>
                                    <td></td>
                                    <td><div class="select_pan adjust_select_pan row"><a class="select add" href="javascript:void(0);" title="增加番數"><div class="col"><i class="fas fa-plus-square"></i></div></a><a class="select minus" href="javascript:void(0);" title="減少番數"><div class="col"><i class="fas fa-minus-square"></i></div></a><a class="select equal" href="javascript:void(0);"title="設定番數為右方數值"><div class="col"><i class="fas fa-equals"></i></div></a></div></td>
                                    <td><input type="number" class="intonly p4_input"></td>
                                </tr>
                                    <td>
                                </tr>
                            </table>
                            <div class="center_button_container">
                                <a class="button" href="javascript:adjust();">即時調整</a>
                            </div>
                        </div>
                        <div class="tab-pane" id="change_seat">
                            <div class="mt-2">請選擇換位方法：</div>
                            <div class="mt-2 mb-2 row select_pan" id="change_seat_pan">
                                <a class="button select col" href="javascript:void(0);">東南對調、西北對調</a>
                                <a class="button select col" href="javascript:void(0);">自選 </a>
                            </div>
                            <div class="player_select row select_pan mt-2 ml-2 none" id="pane1">
                                東位：
                                <a class="p1box col" href="javascript:void(0);"></a>
                                <a class="p2box col" href="javascript:void(0);"></a>
                                <a class="p3box col" href="javascript:void(0);"></a>
                                <a class="p4box col" href="javascript:void(0);"></a>
                            </div>
                            <div class="player_select row select_pan mt-2 ml-2 none" id="pane2">
                                南位：
                                <a class="p1box col" href="javascript:void(0);"></a>
                                <a class="p2box col" href="javascript:void(0);"></a>
                                <a class="p3box col" href="javascript:void(0);"></a>
                                <a class="p4box col" href="javascript:void(0);"></a>
                            </div>
                            <div class="player_select row select_pan mt-2 ml-2 none" id="pane3">
                                西位：
                                <a class="p1box col" href="javascript:void(0);"></a>
                                <a class="p2box col" href="javascript:void(0);"></a>
                                <a class="p3box col" href="javascript:void(0);"></a>
                                <a class="p4box col" href="javascript:void(0);"></a>
                            </div>
                            <div class="player_select row select_pan mt-2 mb-2 ml-2 none" id="pane4">
                                北位：
                                <a class="p1box col" href="javascript:void(0);"></a>
                                <a class="p2box col" href="javascript:void(0);"></a>
                                <a class="p3box col" href="javascript:void(0);"></a>
                                <a class="p4box col" href="javascript:void(0);"></a>
                            </div>
                            <div class="center_button_container none">
                                <a class="button" href="javascript:change_seat();">換位</a>
                            </div>
                        </div>
                        <div class="tab-pane" id="change_name">
                            <div class="mt-2">請更改需改名玩家的名字：</div>
                            <div class="row" style="display:flex; justify-content:center;：">
                                <div class="mt-2 ml-2 mr-2 col-5"><input class="p1_input"></input></div>
                                <div class="mt-2 ml-2 mr-2 col-5"><input class="p2_input"></input></div><br>
                                <div class="mt-2 ml-2 mr-2 mb-2 col-5"><input class="p3_input"></input></div>
                                <div class="mt-2 ml-2 mr-2 mb-2 col-5"><input class="p4_input"></input></div>
                            </div>
                            <div class="center_button_container">
                                <a class="button" href="javascript:change_name();">改名</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Confirm import modal -->
    <div class="modal" id="confirm_import">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="title">確認匯入資料</div>
                    <div class="mt-2" style="font-size:clamp(15px, 4vh, 45px);"><i class="fas fa-exclamation-triangle"></i>資料匯入後，現有的資料將被覆蓋</div>
                    <div class="row" style="justify-content: center; align-items: center;">
                        <div id="import_data_dump"></div>
                    </div>
                    <div class="row">
                        <div class="col ml-2"><a class="button" style="float: left" href="javascript:void(0);">確定</a></div>
                        <div class="col mr-2"><a class="button" style="float: right" href="javascript:void(0);">取消</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Break modal -->
    <div class="modal" id="break">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="title">終止拉踢</div>
                    <table style="font-size: 2.5vh">
                        <tr>
                            <th style="width: 80%"></th>
                            <th style="width: 20%"></th>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!--End Modal-->
    <div class="modal" id="end">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="title">完結遊戲?</div>
                    <div class="row">
                        <div class="col ml-2"><a class="button" style="float: left" href="javascript:end();">確定</a></div>
                        <div class="col mr-2"><a class="button" style="float: right" href="javascript:void(0);">取消</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--Alert-->
    <div class="alert alert-warning mt-3 none" role="alert" id="alert">
        <span id="alert_message"></span>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true" style="font-size:2.5vh">&times;</span>
        </button>
    </div>
</div>
